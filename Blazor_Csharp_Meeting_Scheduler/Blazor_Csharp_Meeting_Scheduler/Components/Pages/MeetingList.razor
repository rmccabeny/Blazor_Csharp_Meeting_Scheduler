@page  "/meetings"
@using Blazor_Csharp_Meeting_Scheduler.Models;
@inject Blazor_Csharp_Meeting_Scheduler.Services.MeetingService MeetingService;

<h3>Meetings</h3>

<!--create a table to display the list of meetings-->
@if (meetings == null)
{
    
    <p>Loading...</p>

}
else
{
    <ul>
        @foreach (var meeting in meetings)
        {
            <li>meeting.MeetingTitle</li>
        }
    </ul>    
}

@code {
    // construct a list of meetings
    private IEnumerable<Meeting> meetings = new List<Meeting>();

    protected override async Task OnInitializedAsync()
    {
        meetings = await MeetingService.GetMeetingsAsync();
    }
}
